<!-- 
~ Copyright 2015 Concept 
~ 
~ Licensed under the Apache License, Version 2.0 (the "License"); 
~ you may not use this file except in compliance with the License. 
~ You may obtain a copy of the License at 
~ 
~ http://www.apache.org/licenses/LICENSE-2.0 
~ 
~ Unless required by applicable law or agreed to in writing, software 
~ distributed under the License is distributed on an "AS IS" BASIS, 
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. 
~ See the License for the specific language governing permissions and 
~ limitations under the License. 
-->
<template name="TableReportView">
	<div class="table-container table-responsive animated fadeIn">
		<table class="table table-striped table-hover">
			<thead>
        <tr>
          <th class="sort-toggle vert-align table-header" data-id="name">Navn {{> SortArrow sortBy='project.name'}}</th>
          <th class="sort-toggle vert-align table-header" data-id="success">Suksesskategori {{> SortArrow sortBy='project.successCategory' reversed="1"}}</th>
          <th class="sort-toggle vert-align table-header" data-id="sector">Sektor {{> SortArrow sortBy='project.sector'}}</th>
          <th class="sort-toggle vert-align table-header" data-id="finishing-year">Årstall ferdigstilt {{> SortArrow sortBy='project.finishingYear'}}</th>
          <th class="sort-toggle vert-align table-header" data-id="evaluation-year">Årstall evaluering {{> SortArrow sortBy='project.evaluationYear'}}</th>
        	<th class="table-header vert-align">
            <span style="white-space:nowrap;">
              <span class="sort-toggle" data-id="management-budget">Styringsramme&nbsp;</span>
              <span class="glyphicon glyphicon-info-sign pop-info" data-container="body" data-toggle="popover" data-placement="top" data-content="{{infoText}}"></span>
            </span>
            &nbsp;{{> SortArrow sortBy='project.managementBudget.amount'}}
          </th>
          <th class="table-header vert-align">
            <span style="white-space:nowrap;">
              <span class="sort-toggle" data-id="cost-budget">Kostnadsramme&nbsp;</span>
              <span class="glyphicon glyphicon-info-sign pop-info" data-container="body" data-toggle="popover" data-placement="top" data-content="{{infoText}}"></span>
            </span>
            &nbsp;{{> SortArrow sortBy='project.costBudget.amount'}}
          </th>
          <th class="table-header vert-align">
            <span style="white-space:nowrap;">
              <span class="sort-toggle" data-id="cost-final">Sluttkostnad&nbsp;</span>
              <span class="glyphicon glyphicon-info-sign pop-info" data-container="body" data-toggle="popover" data-placement="top" data-content="{{infoText}}"></span>
            </span>
            &nbsp;{{> SortArrow sortBy='project.costFinal.amount'}}
          </th>
        	<th class="sort-toggle table-header vert-align" data-id="responsible-org">Evaluator {{> SortArrow sortBy='responsible.organization'}}</th>
          {{#if currentUser}}
          <th class="table-header vert-align">Valgt</th>
          {{/if}}
        </tr>
      </thead>
      <tbody>
  		  {{#each reports}}
  	  		<tr class="table-row">
            <td class="row-item">{{project.name}}</td>
            <td class="row-item">{{> TrafficLight}}</td>
            <td class="row-item">{{project.sector}}</td>
            <td class="row-item">
              {{#if project.finishingYear}}
                {{project.finishingYear}}
              {{else}}
                -
              {{/if}}
            </td>
            <td class="row-item">
              {{#if project.evaluationYear}}
                {{project.evaluationYear}}
              {{else}}
                -
              {{/if}}
            </td>
            <td class="row-item">
              {{#if project.managementBudget.amount}}
                {{project.managementBudget.amount}}
              {{else}}
                -
              {{/if}}
            </td>
            <td class="row-item">
              {{#if project.costBudget.amount}}
                {{project.costBudget.amount}}
              {{else}}
                -
              {{/if}}
            </td>
            <td class="row-item">
              {{#if project.costFinal.amount}}
                {{project.costFinal.amount}}
              {{else}}
                -
              {{/if}}
            </td>
            <td class="row-item">{{responsible.organization}}</td>
            {{#if currentUser}}
            <td style="text-align:center;"><input type="checkbox" value="{{_id}}" checked="{{isChecked}}"></td>
            {{/if}}
          </tr>
  	  	{{/each}}
    	</tbody>
		</table>
	</div>
</template>
