<!-- 
~ Copyright 2015 Concept 
~ 
~ Licensed under the Apache License, Version 2.0 (the "License"); 
~ you may not use this file except in compliance with the License. 
~ You may obtain a copy of the License at 
~ 
~ http://www.apache.org/licenses/LICENSE-2.0 
~ 
~ Unless required by applicable law or agreed to in writing, software 
~ distributed under the License is distributed on an "AS IS" BASIS, 
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. 
~ See the License for the specific language governing permissions and 
~ limitations under the License. 
-->

<template name="Filter">
	<div class="col-xs-12" style="margin-bottom:20px;">
		<h4>Filtrer rapporter</h4>

    <form class="form-inline text-center" role="form">
  		<div class="form-group" style="text-align:left;">
  			{{> AttributePicker id='attribute-picker'}}
  		</div>

  		<div class="form-group" style="text-align:left;">
        {{> OperatorPicker id='operator-picker'}}
  		</div>

  		<div class="form-group">
        <div class="form-group">
          <input type="text" class="form-control" id="value-picker" placeholder="Skriv inn operand" autocomplete="off">
        </div>
  		</div>

  		<div class="form-group">
  			<div class="btn-group">
  				<button id="add-filter" type="submit" class="btn btn-success">Legg til filter</button>
  			</div>
  		</div>
    </form>
	</div>
</template>


<template name="FilterList">
  {{#if filters}}
    <div class="col-xs-12" style="margin-bottom:20px;">
    	<h4>Filtre lagt til</h4>
    	<table class="table">
        <thead>
          <tr>
            <th style="width:20%; text-align:left;">Attributt</th>
            <th style="width:20%; text-align:left;">Operator</th>
            <th style="width:50%; text-align:left;">Operand</th>
            <th style="width:10%;">Fjern</th>
          </tr>
        </thead>
    		<tbody>
    			{{#each filters}}
    				<tr>
    					<td>{{attribute}}</td>
    					<td>{{operator}}</td>
    					<td>{{value}}</td>
    					<td class="text-center"><button type="button" class="btn btn-xs btn-danger remove-filter">Fjern filter</button></td>
    				</tr>
    			{{/each}}
    		</tbody>
    	</table>
    </div>
  {{/if}}
</template>

<template name="OperatorPicker">
  <div class="btn-group">
    <button type="button" id="{{id}}" class="btn btn-default dropdown-toggle btn-select" data-toggle="dropdown" aria-expanded="true">Velg operator <span class="caret"></span></button>
    <ul class="dropdown-menu" role="menu" aria-labelledby="{{id}}">
      <li role="presentation" class="operator-item"><a role="menuitem" tabindex="-1" href="#">er lik</a></li>
      <li role="presentation" class="operator-item"><a role="menuitem" tabindex="-1" href="#">mindre enn</a></li>
      <li role="presentation" class="operator-item"><a role="menuitem" tabindex="-1" href="#">større enn</a></li>
      <li role="presentation" class="operator-item"><a role="menuitem" tabindex="-1" href="#">inneholder</a></li>
    </ul>
  </div>
</template>

<template name="AttributePicker">
  <div class="btn-group">
    <button type="button" id="{{id}}" class="btn btn-default dropdown-toggle btn-select" data-toggle="dropdown" aria-expanded="true">Velg attributt <span class="caret"></span></button>
    {{>AttributeDropdown id=this.id}}
  </div>
</template>

<!--this dropdown is reused in search.html-->
<template name="AttributeDropdown">
  <ul class="dropdown-menu" role="menu" aria-labelledby="{{id}}">
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Sektor</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Navn</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Suksesskategori</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Årstall ferdigstilt</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Årstall evaluering</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Evaluator</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Styringsramme</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Sluttkostnad</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Produktivitet</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Måloppnåelse</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Samf.øk lønnsomhet</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Virkninger</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Levedyktighet</a></li>
    <li role="presentation" class="attribute-item"><a role="menuitem" tabindex="-1" href="#">Relevans</a></li>
  </ul>
</template>
