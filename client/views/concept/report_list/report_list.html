<template name="ReportList">
<div class="container-fluid background-basic fill">
	<div class="container text-center" style="margin: 50px auto;">
		<div class="row">
			<div class="btn-group" data-toggle="buttons">
				<label class="btn btn-default {{#if $eq viewState "box"}}active{{/if}}" id="report-view-option1">
					<input type="radio" name="report-view" ><span class="glyphicon glyphicon-th"></span> Bokser
				</label>
				<label class="btn btn-default {{#if $eq viewState "table"}}active{{/if}}" id="report-view-option2">
					<input type="radio" name="report-view" ><span class="glyphicon glyphicon-th-list"></span> Tabell
				</label>
			</div>
			<div class="btn-group pull-right"> <a class="btn btn-default dropdown-toggle btn-select" data-toggle="dropdown" href="#">Sorter etter <span class="caret"></span></a>
            <ul class="dropdown-menu">
                <li class="sort-toggle" data-id="project-number"><a href="#"># {{> SortArrow sortBy='project.projectNumber'}}</a></li>
                <li class="sort-toggle" data-id="name"><a href="#">Navn {{> SortArrow sortBy='project.name'}}</a></li>
	            <li class="sort-toggle" data-id="sector"><a href="#">Sektor {{> SortArrow sortBy='project.sector'}}</a></li>
	            <li class="sort-toggle" data-id="finishing-year"><a href="#">Årstall ferdigstilt {{> SortArrow sortBy='project.finishingYear'}}</a></li>
	            <li class="sort-toggle" data-id="evaluation-year"><a href="#">Årstall evaluering {{> SortArrow sortBy='project.evaluationYear'}}</a></li>
	        	<li class="sort-toggle" data-id="management-budget"><a href="#">Styringsramme {{> SortArrow sortBy='project.managementBudget.amount'}}</a></li>
	        	<li class="sort-toggle" data-id="cost-final"><a href="#">Sluttkostnad {{> SortArrow sortBy='project.costFinal.amount'}}</a></li>
	        	<li class="sort-toggle" data-id="responsible-org"><a href="#">Ansvarlig {{> SortArrow sortBy='responsible.organization'}}</a></li>
	        	<li class="sort-toggle" data-id="principal"><a href="#">Oppdragsgiver {{> SortArrow sortBy='principal'}}</a></li>
            </ul>
        </div>
		</div>
		<div class="row" id="report-list-container">
			{{#if $eq viewState "box"}}
				{{> BoxReportView}}
			{{else}}
				{{> TableReportView}}
			{{/if}}
		</div>
	</div>
</div>
</template>

<template name="BoxReportView">
	{{#each reports}}
		{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
	{{/each}}
</template>

<template name="TableReportView">
	<div class="table-container">
		<table class="table table-striped table-hover">
			<thead>
		        <tr>
		            <th class="sort-toggle table-header" data-id="project-number"># {{> SortArrow sortBy='project.projectNumber'}}</th>
		            <th class="sort-toggle table-header" data-id="name">Navn {{> SortArrow sortBy='project.name'}}</th>
		            <th class="sort-toggle table-header" data-id="sector">Sektor {{> SortArrow sortBy='project.sector'}}</th>
		            <th class="sort-toggle table-header" data-id="finishing-year">Årstall ferdigstilt {{> SortArrow sortBy='project.finishingYear'}}</th>
		            <th class="sort-toggle table-header" data-id="evaluation-year">Årstall evaluering {{> SortArrow sortBy='project.evaluationYear'}}</th>
		        	<th class="sort-toggle table-header" data-id="management-budget">Styringsramme {{> SortArrow sortBy='project.managementBudget.amount'}}</th>
		        	<th class="sort-toggle table-header" data-id="cost-final">Sluttkostnad {{> SortArrow sortBy='project.costFinal.amount'}}</th>
		        	<th class="sort-toggle table-header" data-id="responsible-org">Ansvarlig {{> SortArrow sortBy='responsible.organization'}}</th>
		        	<th class="sort-toggle table-header" data-id="principal">Oppdragsgiver {{> SortArrow sortBy='principal'}}</th>
		        </tr>
		    </thead>
		    <tbody>
				{{#each reports}}
			  		<tr class="table-row">
			            <td>{{project.projectNumber}}</td>
			            <td>{{project.name}}</td>
			            <td>{{project.sector}}</td>
			            <td>{{project.finishingYear}}</td>
			            <td>{{project.evaluationYear}}</td>
			            <td>{{project.managementBudget.amount}}</td>
			            <td>{{project.costFinal.amount}}</td>
			            <td>{{responsible.organization}}</td>
			            <td>{{principal}}</td>
			        </tr>
			  	{{/each}}
		  	</tbody>
		</table>
	</div>
</template>

<template name="SortArrow">
	{{#if $.Session.equals 'sortBy' sortBy}}{{#if $.Session.equals 'sortOrder' 'asc'}}<span class="glyphicon glyphicon-chevron-down"></span>{{else}}<span class="glyphicon glyphicon-chevron-up"></span>{{/if}}{{/if}}
</template>