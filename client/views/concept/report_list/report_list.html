<template name="ReportList">
<div class="container-fluid background-basic fill">
	<div class="container" style="margin: 50px auto;">
		<div class="row">
			<div class="col-xs-6 col-xs-offset-3 text-center">
				<div class="btn-group" data-toggle="buttons">
					<label class="btn btn-default {{#if $eq viewState "box"}}active{{/if}}" id="report-view-option1">
						<input type="radio" name="report-view" ><span class="glyphicon glyphicon-th"></span> Bokser
					</label>
					<label class="btn btn-default {{#if $eq viewState "table"}}active{{/if}}" id="report-view-option2">
						<input type="radio" name="report-view" ><span class="glyphicon glyphicon-th-list"></span> Tabell
					</label>
				</div>
			</div>
			<div class="col-xs-3">
				<div class="btn-group pull-right"> <a class="btn btn-default dropdown-toggle btn-select" data-toggle="dropdown" href="#"><span style="font-weight:500;">Sorter etter:</span> {{currentSort}} <span class="caret"></span></a>
		            <ul class="dropdown-menu" style="text-align:left;">
		                <li class="sort-toggle" data-id="project-number"><a href="#">Prosjektnummer<div class="pull-right">{{> SortArrow sortBy='project.projectNumber'}}</div></a></li>
		                <li class="sort-toggle" data-id="name"><a href="#">Navn<div class="pull-right">{{> SortArrow sortBy='project.name'}}</div></a></li>
			            <li class="sort-toggle" data-id="sector"><a href="#">Sektor<div class="pull-right">{{> SortArrow sortBy='project.sector'}}</div></a></li>
			            <li class="sort-toggle" data-id="finishing-year"><a href="#">Årstall ferdigstilt<div class="pull-right">{{> SortArrow sortBy='project.finishingYear'}}</div></a></li>
			            <li class="sort-toggle" data-id="evaluation-year"><a href="#">Årstall evaluering<div class="pull-right">{{> SortArrow sortBy='project.evaluationYear'}}</div></a></li>
			        	<li class="sort-toggle" data-id="management-budget"><a href="#">Styringsramme<div class="pull-right">{{> SortArrow sortBy='project.managementBudget.amount'}}</div></a></li>
			        	<li class="sort-toggle" data-id="cost-final"><a href="#">Sluttkostnad<div class="pull-right">{{> SortArrow sortBy='project.costFinal.amount'}}</div></a></li>
			        	<li class="sort-toggle" data-id="responsible-org"><a href="#">Ansvarlig<div class="pull-right">{{> SortArrow sortBy='responsible.organization'}}</div></a></li>
			        	<li class="sort-toggle" data-id="principal"><a href="#">Oppdragsgiver<div class="pull-right">{{> SortArrow sortBy='principal'}}</div></a></li>
		            </ul>
		        </div>
	        </div>
		</div>
		<div class="row" id="report-list-container">
			{{#if $eq viewState "box"}}
				{{> BoxReportView}}
			{{else}}
				{{> TableReportView}}
			{{/if}}
		</div>
	</div>
</div>
</template>

<template name="BoxReportView">
	{{#each reports}}
		{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
{{> BasicBox}}
	{{/each}}
</template>

<template name="TableReportView">
	<div class="table-container">
		<table class="table table-striped table-hover">
			<thead>
		        <tr>
		            <th class="sort-toggle table-header" data-id="project-number"># {{> SortArrow sortBy='project.projectNumber'}}</th>
		            <th class="sort-toggle table-header" data-id="name">Navn {{> SortArrow sortBy='project.name'}}</th>
		            <th class="sort-toggle table-header" data-id="sector">Sektor {{> SortArrow sortBy='project.sector'}}</th>
		            <th class="sort-toggle table-header" data-id="finishing-year">Årstall ferdigstilt {{> SortArrow sortBy='project.finishingYear'}}</th>
		            <th class="sort-toggle table-header" data-id="evaluation-year">Årstall evaluering {{> SortArrow sortBy='project.evaluationYear'}}</th>
		        	<th class="sort-toggle table-header" data-id="management-budget">Styringsramme {{> SortArrow sortBy='project.managementBudget.amount'}}</th>
		        	<th class="sort-toggle table-header" data-id="cost-final">Sluttkostnad {{> SortArrow sortBy='project.costFinal.amount'}}</th>
		        	<th class="sort-toggle table-header" data-id="responsible-org">Ansvarlig {{> SortArrow sortBy='responsible.organization'}}</th>
		        	<th class="sort-toggle table-header" data-id="principal">Oppdragsgiver {{> SortArrow sortBy='principal'}}</th>
		        </tr>
		    </thead>
		    <tbody>
				{{#each reports}}
			  		<tr class="table-row">
			            <td>{{project.projectNumber}}</td>
			            <td>{{project.name}}</td>
			            <td>{{project.sector}}</td>
			            <td>{{project.finishingYear}}</td>
			            <td>{{project.evaluationYear}}</td>
			            <td>{{project.managementBudget.amount}}</td>
			            <td>{{project.costFinal.amount}}</td>
			            <td>{{responsible.organization}}</td>
			            <td>{{principal}}</td>
			        </tr>
			  	{{/each}}
		  	</tbody>
		</table>
	</div>
</template>

<template name="SortArrow">
	{{#if $.Session.equals 'sortBy' sortBy}}{{#if $.Session.equals 'sortOrder' 'asc'}}<span class="glyphicon glyphicon-chevron-down"></span>{{else}}<span class="glyphicon glyphicon-chevron-up"></span>{{/if}}{{/if}}
</template>