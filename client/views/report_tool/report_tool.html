<template name="ReportTool">
	<div class="container">
		<h1 class="text-center">Hent ut fra databasen</h1>
		<a href="#" class="btn btn-default pull-right" role="button" id="download"><span class="glyphicon glyphicon-export"></span>Eksporter valgte rapporter til Excel</a>
		{{> Filter}}
		{{> FilterList}}
		{{> FilterReportTable}}
	</div>
</template>


<template name="Filter">


	<div class="row" style="margin-bottom:20px">
		<h4>Filtrer rapporter</h4>
		<div class="col-lg-3">
				<div class="btn-group"> 
					<a id="attribute-picker" class="btn btn-default dropdown-toggle btn-select" data-toggle="dropdown" href="#">Velg attributt<span class="caret"></span></a>
			  		<ul class="dropdown-menu" role="menu">
				    	<li class="attribute-item"><a href="#">Sektor</a></li>
				    	<li class="attribute-item"><a href="#">Navn</a></li>
				    	<li class="attribute-item"><a href="#">Suksesskategori</a></li>
				    	<li class="attribute-item"><a href="#">Årstall ferdigstilt</a></li>
				    	<li class="attribute-item"><a href="#">Årstall evaluering</a></li>
				    	<li class="attribute-item"><a href="#">Evaluator</a></li>
				    	<li class="attribute-item"><a href="#">Styringsramme</a></li>
				    	<li class="attribute-item"><a href="#">Sluttkostnad</a></li>
				    	<li class="attribute-item"><a href="#">Produktivitet</a></li>
				    	<li class="attribute-item"><a href="#">Måloppnåelse</a></li>
				    	<li class="attribute-item"><a href="#">Samf.øk lønnsomhet</a></li>
				    	<li class="attribute-item"><a href="#">Virkninger</a></li>
				    	<li class="attribute-item"><a href="#">Levedyktighet</a></li>
				    	<li class="attribute-item"><a href="#">Relevans</a></li>
			  		</ul>
				</div>
		</div>

		<div class="col-lg-3">
			<div class="btn-group">
				<a id="operator-picker" class="btn btn-default dropdown-toggle btn-select" data-toggle="dropdown" href="#">Velg operator<span class="caret"></span></a>			  	
				<ul class="dropdown-menu" role="menu">
			    	<li class="operator-item"><a href="#">er lik</a></li>
			    	<li class="operator-item"><a href="#">mindre enn</a></li>
			    	<li class="operator-item"><a href="#">større enn</a></li>
			    	<li class="operator-item"><a href="#">inneholder</a></li>
			  	</ul>
			</div>
		</div>

		<div class="col-lg-3">
			<input id="value-picker" type="text" placeholder="Skriv inn operand">
		</div>

		<div class="col-lg-3">
			<div class="btn-group">
				<button id="add-filter" type="button" class="btn btn-default">Legg til filter </button>
			</div>
		</div>

	</div>

</template>


<template name="FilterList">
	<h4>Filtere lagt til</h4>
	<table class="table table-bordered content-wrapper">
		<tbody>
			{{#each filters}}
				<tr>
					<td>{{attribute}}</td>
					<td>{{operator}}</td>
					<td>{{value}}</td>
					<td><button id="remove-filter" type="button" class="btn btn-default">Fjern filter </button></td>
				</tr>
			{{/each}}
		</tbody>
	</table>
</template>


<!--We have to do something about this template to play along with TableReportView-->

<template name="FilterReportTable">
	<div class="table-container table-responsive animated fadeIn">
		<table class="table table-striped table-hover">
			<thead>
		        <tr>
		            <th class="sort-toggle table-header" data-id="name">Navn {{> SortArrow sortBy='project.name'}}</th>
		            <th class="sort-toggle table-header" data-id="success">Suksesskategori {{> SortArrow sortBy='project.successCategory' reversed="1"}}</th>
		            <th class="sort-toggle table-header" data-id="sector">Sektor {{> SortArrow sortBy='project.sector'}}</th>
		            <th class="sort-toggle table-header" data-id="finishing-year">Årstall ferdigstilt {{> SortArrow sortBy='project.finishingYear'}}</th>
		            <th class="sort-toggle table-header" data-id="evaluation-year">Årstall evaluering {{> SortArrow sortBy='project.evaluationYear'}}</th>
		        	<th class="sort-toggle table-header" data-id="management-budget">Styringsramme {{> SortArrow sortBy='project.managementBudget.amount'}}</th>
		        	<th class="sort-toggle table-header" data-id="cost-final">Sluttkostnad {{> SortArrow sortBy='project.costFinal.amount'}}</th>
		        	<th class="sort-toggle table-header" data-id="responsible-org">Evaluator {{> SortArrow sortBy='responsible.organization'}}</th>
		        	<th class="sort-toggle table-header" data-id="responsible-org">Valgt {{> SortArrow sortBy='responsible.organization'}}</th>
		        </tr>
		    </thead>
		    <tbody>
				{{#each reports}}
			  		<tr class="table-row">
			            <td>{{project.name}}</td>
			            <td>{{> TrafficLight}}</td>
			            <td>{{project.sector}}</td>
			            <td>{{project.finishingYear}}</td>
			            <td>{{project.evaluationYear}}</td>
			            <td>{{project.managementBudget.amount}}</td>
			            <td>{{project.costFinal.amount}}</td>
			            <td>{{responsible.organization}}</td>
			            <td><div class="checkbox"><input type="checkbox" value="{{_id}}" checked></div></td>
			        </tr>
			  	{{/each}}
		  	</tbody>
		</table>
	</div>
</template>


